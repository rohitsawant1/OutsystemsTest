/* 
 This source code (the "Generated Software") is generated by the OutSystems Platform 
 and is licensed by OutSystems (http://www.outsystems.com) to You solely for testing and evaluation 
 purposes, unless You and OutSystems have executed a specific agreement covering the use terms and 
 conditions of the Generated Software, in which case such agreement shall apply. 
*/

using System;
using System.Collections;
using System.Collections.Generic;
using System.Data;
using System.Linq;
using System.Runtime.Serialization;
using System.Reflection;
using System.Text;
using System.Text.RegularExpressions;
using OutSystems.HubEdition.RuntimePlatform;
using OutSystems.HubEdition.RuntimePlatform.Log;
using OutSystems.HubEdition.RuntimePlatform.Db;
using OutSystems.Internal.Db;
using OutSystems.HubEdition.RuntimePlatform.Email;
using OutSystems.HubEdition.RuntimePlatform.Web;
using OutSystems.HubEdition.RuntimePlatform.NewRuntime;
using OutSystems.RuntimeCommon;
using OutSystems.RuntimeCommon.Caching;
using OutSystems.ObjectKeys;
using System.Resources;

namespace ssContactManager {

	public partial class Actions {
		public class lcvList_Navigation_GetStartIndex: VarsBag {
			public string inParamListWidget;
			public bool inParamRememberStartIndex;
			public int inParamStartIndexOverride;
			/// <summary>
			/// Variable <code>varLcListIndex_Text</code> that represents the Service Studio local variable
			///  <code>ListIndex_Text</code> <p>Description: </p>
			/// </summary>
			public string varLcListIndex_Text = "";

			public lcvList_Navigation_GetStartIndex(string inParamListWidget, bool inParamRememberStartIndex, int inParamStartIndexOverride) {
				this.inParamListWidget = inParamListWidget;
				this.inParamRememberStartIndex = inParamRememberStartIndex;
				this.inParamStartIndexOverride = inParamStartIndexOverride;
			}
		}
		public class lcoList_Navigation_GetStartIndex: VarsBag {
			public int outParamStartIndex = 0;

			public lcoList_Navigation_GetStartIndex() {
			}
		}
		/// <summary>
		/// Action <code>ActionList_Navigation_GetStartIndex</code> that represents the Service Studio user
		///  action <code>List_Navigation_GetStartIndex</code> <p> Description: Resets the index stored in th
		/// e Session Variable that is used in the 'List_Navigation_GetStartIndex' action.</p>
		/// </summary>
		public static void ActionList_Navigation_GetStartIndex(HeContext heContext, string inParamListWidget, bool inParamRememberStartIndex, int inParamStartIndexOverride, out int outParamStartIndex) {
			lcoList_Navigation_GetStartIndex result = new lcoList_Navigation_GetStartIndex();
			lcvList_Navigation_GetStartIndex localVars = new lcvList_Navigation_GetStartIndex(inParamListWidget, inParamRememberStartIndex, inParamStartIndexOverride);
			if (heContext != null && heContext.RequestTracer != null) {
				heContext.RequestTracer.RegisterInternalCall("RXVvq_7n1UK+COrxcmxk4A", "List_Navigation_GetStartIndex", "X0RMeX3yYU+0eg2nFEDfaA", "ContactManager");
			}
			try {
				// StartIndexOverride?
				if (((localVars.inParamStartIndexOverride!=(-1)))) {
					// SetOverridenStartIndex
					Actions.ActionPrivate_List_Navigation_SaveStartIndex(heContext, localVars.inParamListWidget, Convert.ToString(localVars.inParamStartIndexOverride));

					// SetOverridenStartIndex
					// StartIndex = StartIndexOverride
					result.outParamStartIndex = localVars.inParamStartIndexOverride;
				} else {
					// ResetStartIndex?
					if ((((localVars.inParamRememberStartIndex==false) &&BuiltInFunction.IsLoadingScreen()))) {
						// ResetStartIndex
						Actions.ActionPrivate_List_Navigation_SaveStartIndex(heContext, localVars.inParamListWidget, Convert.ToString(0));

					} else {
						// ListIndex_Text
						// ListIndex_Text = Private_HashGet(ListNavigation_StartIndices, GetPageName() + ":" + ListWidget)
						localVars.varLcListIndex_Text = Functions.ActionPrivate_HashGet(heContext, ((string) Global.App.OsContext.Session["ContactManager.ListNavigation_StartIndices"]), ((Functions.rssextensionhttprequesthandler_ActionGetPageName(heContext) + ":") +localVars.inParamListWidget));
						// Found Key?
						if (((localVars.varLcListIndex_Text!= ""))) {
							// SetStartIndex
							// StartIndex = TextToInteger
							result.outParamStartIndex = BuiltInFunction.TextToInteger(localVars.varLcListIndex_Text);
						}

						// ResetRememberStartIndex
						// ListNavigation_RememberStartIndices = Replace
						Global.App.OsContext.Session["ContactManager.ListNavigation_RememberStartIndices"] = BuiltInFunction.Replace(((string) Global.App.OsContext.Session["ContactManager.ListNavigation_RememberStartIndices"]), (((Functions.rssextensionhttprequesthandler_ActionGetPageName(heContext) + ":") +localVars.inParamListWidget) + ";"), "");
						// RememberStartIndex?
						if ((localVars.inParamRememberStartIndex)) {
							// SetRememberStartIndex
							// ListNavigation_RememberStartIndices = ListNavigation_RememberStartIndices + GetPageName() + ":" + ListWidget + ";"
							Global.App.OsContext.Session["ContactManager.ListNavigation_RememberStartIndices"] = ((((((string) Global.App.OsContext.Session["ContactManager.ListNavigation_RememberStartIndices"]) +Functions.rssextensionhttprequesthandler_ActionGetPageName(heContext)) + ":") +localVars.inParamListWidget) + ";");
						}

					}

				}

			} // try

			finally {
				outParamStartIndex = result.outParamStartIndex;
			}
		}

		public static class FuncActionList_Navigation_GetStartIndex {



		}


	}

}