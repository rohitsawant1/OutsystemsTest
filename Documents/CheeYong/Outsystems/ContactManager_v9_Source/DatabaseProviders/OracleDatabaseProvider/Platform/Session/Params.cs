/* 
 This source code (the "Generated Software") is generated by the OutSystems Platform 
 and is licensed by OutSystems (http://www.outsystems.com) to You solely for testing and evaluation 
 purposes, unless You and OutSystems have executed a specific agreement covering the use terms and 
 conditions of the Generated Software, in which case such agreement shall apply. 
*/

using System;
using System.Data;
using Oracle.ManagedDataAccess.Client;
using Oracle.ManagedDataAccess.Types;
using OutSystems.HubEdition.Extensibility.Data.Platform.Session;
using OutSystems.RuntimeCommon;

namespace OutSystems.HubEdition.DatabaseProvider.Oracle.Platform.Session {

    internal static class Params {

        internal static object Val(object param) {
            var p = Cast(param);
            return p.Value;
        }

        internal static bool BoolVal(object param) {
            var val = Val(param).ToString();
            return val != "0" && val.ToLower() != "false";
        }

        internal static int IntVal(object param) {
            return (int) Val(param);
        }

        internal static TimeSpan TimeSpanVal(object param) {
            return new TimeSpan(0, 0, IntVal(param));
        }

        internal static ItemState ItemStateVal(object param) {
            return (ItemState)IntVal(param);
        }

        internal static byte[] BinaryVal(IDbCommand cmd, object param) {
            var val = (OracleBlob) Val(param);
            return val.IsNull ? null : val.Value;
        }

        internal static bool IsNull(object param) {
            return Convert.IsDBNull(Val(param));
        }

        internal static void SetVal(object param, object val) {
            var p = Cast(param);
            p.Value = val;
        }

        internal static IDbDataParameter Cast(object param) {
            return (IDbDataParameter)param;
        }

        internal static void SetBlobType(IDbDataParameter p) {
            ((OracleParameter)p).OracleDbType = OracleDbType.Blob;
        }
    }
}