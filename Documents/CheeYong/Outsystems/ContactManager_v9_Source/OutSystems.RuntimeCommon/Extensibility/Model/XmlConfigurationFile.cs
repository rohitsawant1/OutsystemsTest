/* 
 This source code (the "Generated Software") is generated by the OutSystems Platform 
 and is licensed by OutSystems (http://www.outsystems.com) to You solely for testing and evaluation 
 purposes, unless You and OutSystems have executed a specific agreement covering the use terms and 
 conditions of the Generated Software, in which case such agreement shall apply. 
*/

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Xml;
using System.IO;

namespace OutSystems.Extensibility.Model {

    public class ServerSideRoute {
        public string Source { get; set; }
        public string Destination { get; set; }

        public static ServerSideRoute DefaultSendToHomeRoute(string source) {
            return new ServerSideRoute { Source = source, Destination = "" };
        }
    }

    public abstract class GenericConfigurationFile<ContentType> {
        private readonly FileInfo File;

        public GenericConfigurationFile(FileInfo file, ContentType contents) {
            File = file;
            Contents = contents;
        }

        public ContentType Contents { get; private set; }
        public string Path { get { return File.ToString(); } }
        public string Name { get { return File.Name; } }
    }

    public sealed class TextConfigurationFile : GenericConfigurationFile<string>  {   
        public TextConfigurationFile(FileInfo file, string contents) : base(file, contents) {  }
    }

    public sealed class XmlConfigurationFile : GenericConfigurationFile<XmlDocument> {
        public XmlConfigurationFile(FileInfo file, XmlDocument contents) : base(file, contents) {  }
        public XmlConfigurationFile(FileInfo file, string contents) : this(file, CreateXmlDocument(contents)) { }

        private static XmlDocument CreateXmlDocument(string contents) {
            var document = new XmlDocument();
            document.LoadXml(contents);
            return document;
        }
    }
}
